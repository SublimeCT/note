# 5. 文件管理系统 [doc](https://github.com/SublimeCT/note/tree/master/Linux/docs/5.md) [link](http://www.cnblogs.com/f-ck-need-u/p/7048971.html)

## 5.1 机械硬盘
### 结构
#### posts
- [计算机机械硬盘的结构和工作原理](https://blog.csdn.net/xingjiarong/article/details/46312571)  
- [硬盘发展及介绍](http://blog.chinaunix.net/uid-23069658-id-3413957.html)
- [硬盘拆解](http://www.intohard.com/article-387-1.html)  

![结构 1](http://ww4.sinaimg.cn/mw1024/e5675f11jw1esonqhcw53j20ei084t9q.jpg)
![结构 2](https://img-blog.csdn.net/20170804101220827?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMjc1ODA4OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

- 机械臂
可前后移动, 通过移动机械臂前端的磁头读写数据  

- 磁头  
磁头由机械手臂控制在盘片上移动, 读写硬盘时, 磁头依靠磁盘的告诉旋转引起的空气动力效应悬浮在盘面上, 与盘面的间距不到 1 微米

- 盘片
    - 硬盘的存储介质, 盘面上由磁性材料, 在主轴电机带动下高速旋转
    - 盘面分为单面 / 双面, 盘面可以是一张或多张
    - 硬盘的容量是每张盘片容量之和
    - 盘片密封在硬盘内部

- 磁道
    - 每个盘片的每个盘面被划分成多个狭窄的同心圆环, 数据就是存储在这样的同心圆环上
    - 磁道是每个盘片上的每个盘面的同心圆
    - 每个盘面的最外圈是 `0` 磁道, 向内递增
    - 硬盘数据的存放就是从最外圈开始的

- 扇区
    - 在磁道的基础上划分若干弧段, 每个弧段作为一个扇区
    - 每个扇区可以存储 128 x 2^n (n=0 / 1 / 2 / 3) 字节的数据
    - 现在每个扇区普遍存储 128 x 2^2 = 512 字节的数据, 也就是说即使计算机只需要读取一个字节, 也需要将所在扇区的 512 字节数据读入内存
    - 扇区号是按照某个间隔跳跃着编排。比如，2号扇区并不是1号扇区后的按顺序的第一个而是第八个，3号扇区又是2号扇区后的按顺序的第八个

![扇区](http://blog.chinaunix.net/attachment/201211/19/23069658_1353334399LCDw.jpg)

- 柱面
    - 不同面上的相同磁道编号组成了一个圆柱面, 成为柱面

![柱面](https://images2015.cnblogs.com/blog/733013/201706/733013-20170619141937726-1280834834.png)


机械硬盘由多个盘片组成, 它们都绕着主轴旋转

每块盘片都有读写磁头悬浮在盘片下方, 它们与盘片间距极小

在读写数据时盘片旋转, 读写磁头被磁臂(actuator arm assembly)控制着不断移动来读取内容

- 簇
    - 将物理上相邻的多个扇区成为一个簇
    - 操作系统读写磁盘的基本单位是扇区
    - 文件系统的基本单位是簇

![簇](https://img-blog.csdn.net/20150601161626426)

## 5.3 分区
- 分区是为了在逻辑上将柱面隔开形成边界, 它是以`柱面`为单位来划分的
- 首先划分最外层柱面, 然后不断向内划分
- 由于最外层柱面读写速度比内圈快, 所以第一个分区在读写性能上比后面的分区更好 (在 `windows` 上的 `C 盘` 为第一个分区, 读写速度最快)

