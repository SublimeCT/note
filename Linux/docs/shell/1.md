# [简介](https://github.com/SublimeCT/note/tree/master/Linux/docs/shell/1.md) [:point_right: link](http://www.cnblogs.com/f-ck-need-u/p/5915048.html)

脚本都以 `#!/bin/bash` 开头, 当使用 `sh` 命令运行时可以不加这行

## 多命令逻辑执行顺序
- `分号 ;` 所有命令没有逻辑关系, 其中一个报错也不影响其他命令执行
- `||` 
- `&&`
- `&` 表示将前面的命令放入后台执行并立即执行后面的命令 

## 变量

```shell
echo ${foo:-text} # foo 未定义时输出 text 
echo ${foo-text} # foo 未定义时输出 text, 为空时输出 null 
```

### 设置为永久全局变量
`/etc/profile` 文件在每个用户登录时都会执行
```shell
source /etc/profile
```

### 特殊变量
```shell
echo ${#test} # 获取变量长度
```

```bash
sh ./var.sh param1 param2
```

```shell
echo $# #  2 参数个数
echo $0 # ./var.sh 脚本名
echo $1 # param1 第 1 个参数
echo $* # param1 param2 所有参数整体
```

### 其他
`var.sh`
```shell
shift $1
```

## 命令执行过程
![](https://images2017.cnblogs.com/blog/733013/201708/733013-20170823180217886-1435362444.png)

```bash
echo -e "some files:" ~/i* "\nThe date:$(date +%F)\n$name's age is $((a+4))" >/tmp/a.log
```

1. 读取输入的命令
2. 解析并分割每个单词, 分割后的每个单词称为 `token`
![](https://images2017.cnblogs.com/blog/733013/201708/733013-20170823180302324-561234934.png)
3. 检查命令结构, 对 `shell` 编程中的关键字进行特殊处理
4. 检查第一个 `token` 是否是别名, 如果是别名则返回 `2`
5.  